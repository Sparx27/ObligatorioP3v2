@model MVC.Models.Evento.EventoVM

@{
    ViewData["Title"] = "Detalles Evento";
}

<section class="row pb-4 mt-5">
    <div class="mb-2">
        <a asp-action="ListEventosPorFecha" class="text-success mb-3">Volver</a>
    </div>

    @if (ViewBag.ErrorMessage != null)
    {
        <p class="alert alert-danger text-center">@ViewBag.ErrorMessage</p>
    }
    @if (TempData["ErrorMessage"] != null)
    {
        <p class="alert alert-danger text-center">@TempData["ErrorMessage"]</p>
    }
    @if (TempData["Message"] != null)
    {
        <p class="alert alert-success text-center">@TempData["Message"]</p>
    }

    <h1 class="col-12">Detalles</h1>

    <div class="col-12">
        <h3 class="text-danger">@Model.NombrePrueba</h3>
        <hr />
        <dl class="row fs-5">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Id)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Id)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.FchInicio)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.FchInicio)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.FchFin)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.FchFin)
            </dd>
        </dl>
    </div>

    <div class="col-12">
        <div class="row">
            <form method="post" asp-action="Details" class="col-12 col-md-6 rounded p-4 border border-3 border-danger">
                <p class="fs-5 fw-bold mb-4">Agregar Puntajes</p>

                <input type="hidden" value="@Model.Id" asp-for="Id" />

                @for (int i = 0; i < Model.LiPuntajes.Count(); i++)
                {
                    <div class="row my-2">
                        <input type="hidden" asp-for="LiPuntajes[i].Atleta.Id" />
                        <p class="col-6">@Model.LiPuntajes[i].Atleta.Nombre @Model.LiPuntajes[i].Atleta.Apellido </p>

                        <input class="col-6"
                               asp-for="LiPuntajes[i].Puntaje"
                               placeholder="Agregar puntaje"
                               type="decimal" />
                    </div>
                }
                <input type="submit" value="Guardar cambios" class="btn btn-success mt-2" />
            </form>
        </div>
    </div>
</section>

